{"version":3,"sources":["webpack:////Users/lf/Desktop/ydk-project/wx-small-shop/pages/reseve/ReseveDetail.vue?5325","webpack:////Users/lf/Desktop/ydk-project/wx-small-shop/pages/reseve/ReseveDetail.vue?25df","webpack:////Users/lf/Desktop/ydk-project/wx-small-shop/pages/reseve/ReseveDetail.vue?1b11","webpack:////Users/lf/Desktop/ydk-project/wx-small-shop/pages/reseve/ReseveDetail.vue?9fd7","webpack:////Users/lf/Desktop/ydk-project/wx-small-shop/pages/reseve/ReseveDetail.vue","webpack:////Users/lf/Desktop/ydk-project/wx-small-shop/pages/reseve/ReseveDetail.vue?8a8f","webpack:////Users/lf/Desktop/ydk-project/wx-small-shop/pages/reseve/ReseveDetail.vue?34db"],"names":["name","components","TicketInfo","TicketDiscount","TicketUserInfo","TicketContact","uniIcon","data","ticketInfo","totalPrice","contacts","tempDate","collectionState","touristCount","watch","newVal","oldVal","$nextTick","$refs","init","methods","getData","$http","$urlPath","orderReserve","goods_id","$routeParams","goodsId","identity","$ids","store_id","storeId","goods_source","s_id","scenicId","is_favorites","errorCode","error","$toast","onSelectedTimeItem","info","item","valid_period","valid_period_expire","one_stock","num","Number","sale_price","parseInt","toFixed","goods","min_number","collection","userUnFavoroteGoodsUrl","reserve","play_info","checkUserInfo","postData","date","contact","userSingleInfo","tempUserInfo","user","userInfo","userList","forEach","type","push","orderCreate","JSON","stringify","uni","$emit","$replace","$mRouter","orderInfoPay","no","out_trade_no","userName","userPhone","phone","idCard","schoolName","studentId","visitor_info","indexOf","$utils","validator","isPhone","checkIdCard","deleteContact","l_name","splice","onLoad","onShow","selectedContact","getApp","globalData","l_id"],"mappings":"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","file":"pages/reseve/ReseveDetail.js","sourcesContent":["import { render, staticRenderFns } from \"./ReseveDetail.vue?vue&type=template&id=05d93cf8&scoped=true&\"\nimport script from \"./ReseveDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ReseveDetail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReseveDetail.vue?vue&type=style&index=0&id=05d93cf8&lang=stylus&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05d93cf8\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('05d93cf8', component.options)\n    } else {\n      api.reload('05d93cf8', component.options)\n    }\n    module.hot.accept(\"./ReseveDetail.vue?vue&type=template&id=05d93cf8&scoped=true&\", function () {\n      api.rerender('05d93cf8', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/lf/Desktop/ydk-project/wx-small-shop/pages/reseve/ReseveDetail.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReseveDetail.vue?vue&type=template&id=05d93cf8&scoped=true&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReseveDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReseveDetail.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport TicketInfo from './components/TicketInfo'\nimport TicketDiscount from './components/TicketDiscount'\nimport TicketUserInfo from './components/TicketUserInfo'\nimport TicketContact from './components/TicketContact'\nimport uniIcon from '@/componets/uni/rate/uni-icon.vue'\nexport default {\n  name: 'ReseveDetail',\n  components: {\n    TicketInfo,\n    TicketDiscount,\n    TicketUserInfo,\n    TicketContact,\n\tuniIcon\n  },\n  data () {\n    return {\n      ticketInfo: null,\n      totalPrice: 0,\n      contacts: [],\n      tempDate: null,\n      collectionState: 0,\n      touristCount: 1\n    }\n  },\n  watch: {\n\t ticketInfo (newVal, oldVal) {\n\t\t if (newVal) {\n\t\t\t this.$nextTick(() => {\n\t\t\t \tthis.$refs.ticketInfo.init()\n\t\t\t })\n\t\t }\n\t }\n  },\n  methods: {\n    getData () {\n      this.$http(this.$urlPath.orderReserve, {\n        goods_id: this.$routeParams.goodsId,\n        identity: this.$ids.identity,\n        store_id: this.$ids.storeId,\n        goods_source: this.$routeParams.goods_source || '',\n        s_id: this.$routeParams.scenicId\n      }, '', (data) => {\n        this.ticketInfo = data.data\n        this.collectionState = data.data.is_favorites\n      }, (errorCode, error) => {\n        this.$toast(error)\n      })\n    },\n    onSelectedTimeItem (info) {\n\t\tif (info.item) {\n\t\t\t// 如果是时间段并且已经过期了， 就不能再进行购买了\n\t\t\tif (this.ticketInfo.valid_period === 2 && this.ticketInfo.valid_period_expire === 0) {\n\t\t\t\tthis.$toast('该票已不能购买')\n\t\t\t\tthis.totalPrice = 0\n\t\t\t\treturn\n\t\t\t}\n\t\t\t// 禁售\n\t\t\tif (info.item.one_stock === -2) {\n\t\t\t\tthis.$toast('此票在所选日期禁售')\n\t\t\t} else if (info.item.one_stock === -1) { // 不限量卖\n\t\t\t\tthis.tempDate = info.item\n\t\t\t\tthis.touristCount = info.num\n\t\t\t\tthis.totalPrice = (Number(info.item.sale_price) * parseInt(info.num)).toFixed(2)\n\t\t\t} else {\n\t\t\t\tif (info.item.one_stock < this.ticketInfo.goods.min_number) {\n\t\t\t\t\tthis.totalPrice = 0\n\t\t\t\t\tthis.$toast('所选日期余票小于最低购买数')\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.tempDate = info.item\n\t\t\t\tthis.touristCount = info.num\n\t\t\t\tthis.totalPrice = (Number(info.item.sale_price) * parseInt(info.num)).toFixed(2)\n\t\t\t}\n\t\t}\n    },\n    collection () {\n      this.$http(this.$urlPath.userUnFavoroteGoodsUrl, {\n        goods_id: this.$routeParams.goodsId\n      }, '正在操作…', (data) => {\n        if (this.collectionState === 1) {\n          this.$toast('取消收藏成功')\n          this.collectionState = 0\n          this.ticketInfo.is_favorites = this.collectionState\n        } else {\n          this.$toast('收藏成功')\n          this.collectionState = 1\n          this.ticketInfo.is_favorites = this.collectionState\n        }\n      }, (errorCode, error) => {\n        this.$toast(error)\n      })\n    },\n    reserve () {\n      if (!this.tempDate) {\n        this.$toast('请选择游玩日期')\n        return\n      }\n\t  if(this.ticketInfo.goods.play_info !== 0 && !this.checkUserInfo()) {\n\t\t  return\n\t  }\n      const postData = {}\n\t  this.tempDate.num = this.touristCount\n      postData.date = this.tempDate\n\t  switch (this.ticketInfo.goods.play_info) {\n\t\t  // 只需要接收短信的游客信息\n\t\t  case 1:\n\t\t\t\tpostData.contact = this.$refs.userSingleInfo.tempUserInfo\n\t\t\t\tpostData.user = [this.$refs.userSingleInfo.tempUserInfo]\n\t\t\tbreak\n\t\t  // 需要多个游客信息\n\t\t  case 2:\n\t\t\t\tpostData.user = []\n\t\t\t\t// 如果只是买了一张票，则不需要其它游客的信息\n\t\t\t\tif (this.$refs.userInfo) {\n\t\t\t\t\tconst userList = this.$refs.userInfo.userList\n\t\t\t\t\tuserList.forEach(item => {\n\t\t\t\t\t  if (item.type !== 'add') {\n\t\t\t\t\t\tpostData.user.push(item)\n\t\t\t\t\t  }\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\tpostData.contact = this.$refs.userSingleInfo.tempUserInfo // 用于接收短信的游客信息\n\t\t\t\tpostData.user.push(this.$refs.userSingleInfo.tempUserInfo) // 把联系人也放到游玩人信息里面\n\t\t\tbreak\n\t  }\n      postData.info = {\n        identity: this.$ids.identity,\n        store_id: this.$ids.storeId,\n        goods_source: this.ticketInfo.goods.goods_source,\n        goods_id: this.$routeParams.goodsId\n      }\n      this.$http(this.$urlPath.orderCreate, {\n        data: JSON.stringify(postData)\n      }, '正在提交…', (data) => {\n        this.$toast('订单提交成功')\n\t\tuni.$emit('orderUpdate')\n\t\tthis.$replace(this.$mRouter.orderInfoPay({\n\t\t\tno: data.data.out_trade_no\n\t\t}))\n      }, (errorCode, error) => {\n        this.$toast(error)\n      })\n    },\n\tcheckUserInfo () {\n\t\tif (this.$refs.userSingleInfo) {\n\t\t\tconst userName = this.$refs.userSingleInfo.tempUserInfo.name\n\t\t\tconst userPhone = this.$refs.userSingleInfo.tempUserInfo.phone\n\t\t\tconst idCard = this.$refs.userSingleInfo.tempUserInfo.idCard\n\t\t\tconst schoolName = this.$refs.userSingleInfo.tempUserInfo.schoolName\n\t\t\tconst studentId = this.$refs.userSingleInfo.tempUserInfo.studentId\n\t\t\tif (!userName && this.ticketInfo.goods.visitor_info.indexOf('n') !== -1) {\n\t\t\t  this.$toast('请输入游客姓名')\n\t\t\t  return false\n\t\t\t}\n\t\t\tif (!userPhone && this.ticketInfo.goods.visitor_info.indexOf('m') !== -1) {\n\t\t\t  this.$toast('请输入游客手机号')\n\t\t\t  return false\n\t\t\t}\n\t\t\tif (userPhone && !this.$utils.validator.isPhone(userPhone)) {\n\t\t\t  this.$toast('请输入合法的手机号')\n\t\t\t  return false\n\t\t\t}\n\t\t\tif (!idCard && this.ticketInfo.goods.visitor_info.indexOf('id') !== -1) {\n\t\t\t  this.$toast('请输入身份证号')\n\t\t\t  return false\n\t\t\t}\n\t\t\tif (idCard && !this.$utils.validator.checkIdCard(idCard)) {\n\t\t\t  this.$toast('请输入合法的身份证号')\n\t\t\t  return false\n\t\t\t}\n\t\t\tif (!schoolName && this.ticketInfo.goods.visitor_info.indexOf('u') !== -1) {\n\t\t\t  this.$toast('请输入学校名称')\n\t\t\t  return false\n\t\t\t}\n\t\t\tif (!studentId && this.ticketInfo.goods.visitor_info.indexOf('s') !== -1) {\n\t\t\t  this.$toast('请输入学生证号')\n\t\t\t  return false\n\t\t\t}\n\t\t\treturn true\n\t\t} else {\n\t\t\treturn false\n\t\t}\n\t},\n\tdeleteContact (contact) {\n\t\tfor (let item of this.contacts) {\n\t\t\tif (item.l_name === contact.name) {\n\t\t\t\tthis.contacts.splice(this.contacts.indexOf(item), 1)\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t}\n  },\n  onLoad() {\n\t  this.getData()\n  },\n  onShow () {\n  \tconst selectedContact = getApp().globalData.contact\n\tgetApp().globalData.contact = null\n\tif (selectedContact) {\n\t\tfor (let item of this.contacts) {\n\t\t\tif (item.l_id === selectedContact.l_id) {\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t\tthis.contacts.push(selectedContact)\n\t}\n  }\n}\n","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--11-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReseveDetail.vue?vue&type=style&index=0&id=05d93cf8&lang=stylus&scoped=true&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--11-oneOf-1-2!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-3!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/stylus-loader/index.js??ref--11-oneOf-1-4!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--11-oneOf-1-5!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./ReseveDetail.vue?vue&type=style&index=0&id=05d93cf8&lang=stylus&scoped=true&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}