(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/order/OrderInfoPay"],{"1a8b":function(t,n,e){"use strict";var a=e("cb2f"),o=e.n(a);o.a},"2beb":function(t,n,e){"use strict";e.r(n);var a=e("e810"),o=e.n(a);for(var r in a)"default"!==r&&function(t){e.d(n,t,function(){return a[t]})}(r);n["default"]=o.a},9606:function(t,n,e){"use strict";e.r(n);var a=e("d9b6"),o=e("2beb");for(var r in o)"default"!==r&&function(t){e.d(n,t,function(){return o[t]})}(r);e("1a8b");var i=e("2877"),u=Object(i["a"])(o["default"],a["a"],a["b"],!1,null,"1f6a8bcb",null);n["default"]=u.exports},cb2f:function(t,n,e){},d9b6:function(t,n,e){"use strict";var a=function(){var t=this,n=t.$createElement;t._self._c},o=[];e.d(n,"a",function(){return a}),e.d(n,"b",function(){return o})},e810:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){return e.e("componets/uni/uni-countdown").then(e.bind(null,"1a3e"))},o={name:"orderInfoPay",components:{CountDown:a},data:function(){return{info:null,payType:"",dialogVisible:!1,orderId:null,wxPayInfo:null}},computed:{imagePath:function(){return this.info?this.$utils.image.getImagePath(this.info.scenicimages):""}},methods:{getData:function(){var t=this;this.$http(this.$urlPath.orderPayUrl,{out_trade_no:this.$routeParams.no},"",function(n){t.info=n.data,t.info.timeout_express=t.info.timeout_express-n.time},function(n,e){t.$back()})},countDownEnd:function(){this.$toast("订单结束，未支付，请重新下单"),this.$back()},pay:function(){var n=this;this.$http(this.$urlPath.orderPay,{out_trade_no:this.$routeParams.no,pay_type:"miniapp"},"正在支付…",function(e){t.requestPayment({provider:"wxpay",orderInfo:JSON.stringify(e.data),nonceStr:e.data.nonceStr,timeStamp:e.data.timeStamp,package:e.data.package,signType:e.data.signType,paySign:e.data.paySign,success:function(t){"requestPayment:ok"===t.errMsg?(n.$toast("支付成功"),n.$replace("/pages/order/OrderPayResult?no="+n.$routeParams.no+"&scenicId="+n.info.scenic_id+"&orderId="+n.info.order_id+"&state=1")):n.$replace("/pages/order/OrderPayResult?no="+n.$routeParams.no+"&scenicId="+n.info.scenic_id+"&orderId="+n.info.order_id+"&state=0")},fail:function(t){"requestPayment:fail cancel"===t.errMsg?n.$toast("支付取消"):n.$replace("/pages/order/OrderPayResult?no="+n.$routeParams.no+"&scenicId="+n.info.scenic_id+"&orderId="+n.info.order_id+"&state=0")}})},function(t,e){n.$toast(e)})}},onLoad:function(){this.getData()}};n.default=o}).call(this,e("543d")["default"])}},[["33b6","common/runtime","common/vendor"]]]);