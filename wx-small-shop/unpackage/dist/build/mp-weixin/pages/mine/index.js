(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/index"],{7144:function(e,t,n){"use strict";n.r(t);var a=n("ad23"),i=n("9194");for(var o in i)"default"!==o&&function(e){n.d(t,e,function(){return i[e]})}(o);n("8890");var s=n("2877"),u=Object(s["a"])(i["default"],a["a"],a["b"],!1,null,"9d68b9f2",null);t["default"]=u.exports},"78d3":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;g(n("4f55"));var a=g(n("63de")),i=g(n("40a4")),o=g(n("697f")),s=g(n("ecac")),u=g(n("4e94")),r=g(n("f48f")),d=g(n("99ff")),c=g(n("88e2")),f=g(n("6e91")),l=g(n("41a8"));function g(e){return e&&e.__esModule?e:{default:e}}var h=function(){return n.e("componets/uni/uni-badge").then(n.bind(null,"183b"))},m={name:"personal",mixins:[l.default],components:{uniBadge:h},data:function(){return{orderItemList:[{title:"待付款",icon:a.default,badage:0,index:0},{title:"待使用",icon:i.default,badage:0,index:1},{title:"待评价",icon:o.default,badage:0,index:2},{title:"售后/退款",icon:s.default,badage:0,index:3}],actionItemList:[{title:"我的收藏",icon:u.default},{title:"我的优惠券",icon:r.default},{title:"留言板",icon:d.default},{title:"常用联系人",icon:c.default},{title:"个人信息",icon:f.default}],isShowRedNotify:!0,contentDivScroll:0,uid:this.$userInfo.state.id,userPhone:this.$userInfo.state.username||this.$userInfo.state.mobile||"",avatar:this.$utils.image.getImagePath(this.$userInfo.state.avatar||"")}},methods:{message:function(){this.$push("/pages/message/Message")},orderItemClick:function(e){e.badage=0,this.$push("/pages/order/OrderList?state="+e.index)},getData:function(){var t=this;this.$http(this.$urlPath.orderStatusNum,{},null,function(e){t.orderItemList[0].badage=e.data.pay_count,t.orderItemList[1].badage=e.data.use_count,t.orderItemList[2].badage=e.data.comment_count,t.orderItemList[3].badage=e.data.refund_count},function(e,n){t.$toast(n)},function(){e.stopPullDownRefresh()})},itemClick:function(t){var n="";switch(t){case 0:n="/pages/collection/MyCollection";break;case 1:n="/pages/coupon/Coupon";break;case 2:n="/pages/mine/LeaveMessage";break;case 3:n="/pages/mine/ContactsList?mode=edit";break;case 4:n="/pages/mine/PersonalInfo";break}e.navigateTo({url:n})},onLogin:function(){this.uid=this.$userInfo.state.id,this.userPhone=this.$userInfo.state.username||this.$userInfo.state.mobile||"",this.avatar=this.$utils.image.getImagePath(this.$userInfo.state.avatar||"")}},onLoad:function(){this.$userInfo.isLogin()&&this.getData()},onPullDownRefresh:function(){this.$userInfo.isLogin()?this.getData():e.stopPullDownRefresh()},onTabItemTap:function(t){var n=this;this.$userInfo.isLogin()||e.switchTab({complete:function(){getApp().globalData.backPage="/pages/mine/index",n.$push("/pages/login/Login")},url:"/pages/index/index"})}};t.default=m}).call(this,n("543d")["default"])},8890:function(e,t,n){"use strict";var a=n("9f81"),i=n.n(a);i.a},9194:function(e,t,n){"use strict";n.r(t);var a=n("78d3"),i=n.n(a);for(var o in a)"default"!==o&&function(e){n.d(t,e,function(){return a[e]})}(o);t["default"]=i.a},"9f81":function(e,t,n){},ad23:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=(e._self._c,e.$utils.validator.isPhone(e.userPhone)),a=e.$utils.common.hiddenMobile(e.userPhone);e.$mp.data=Object.assign({},{$root:{g0:n,g1:a}})},i=[];n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i})}},[["b942","common/runtime","common/vendor"]]]);