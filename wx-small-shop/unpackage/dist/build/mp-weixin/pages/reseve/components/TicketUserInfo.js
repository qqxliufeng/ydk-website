(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/reseve/components/TicketUserInfo"],{"583c":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=(t._self._c,t.visitorInfo.indexOf("n")),i=t.visitorInfo.indexOf("m"),n=t.visitorInfo.indexOf("id"),o=t.visitorInfo.indexOf("u"),r=t.visitorInfo.indexOf("s");t.$mp.data=Object.assign({},{$root:{g0:s,g1:i,g2:n,g3:o,g4:r}})},n=[];s.d(e,"a",function(){return i}),s.d(e,"b",function(){return n})},"6f39":function(t,e,s){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=function(){return s.e("componets/uni/lu-popup-wrapper").then(s.bind(null,"e2d6"))},n={name:"TicketUserInfo",props:{contacts:Array,visitorInfo:String,touristCount:Number},components:{uniPopupWrapper:i},data:function(){return{showAddUserInfoDialog:!1,tempUserInfo:{name:"",phone:"",idCard:"",schoolName:"",studentId:"",clear:function(){this.name="",this.phone="",this.idCard="",this.schoolName="",this.studentId=""},setInfo:function(t){this.name=t.name,this.phone=t.phone,this.idCard=t.idCard,this.schoolName=t.schoolName,this.studentId=t.studentId}},userList:[],addList:[],selectedList:[],addItem:{name:"+ 新增",selected:!1,type:"add"},userMap:{},selectedUserIndex:-1}},watch:{contacts:function(t,e){var s=this;this.selectedList=[],this.userList=[],t.forEach(function(t,e){var i={name:t.l_name,phone:t.l_mobile,idCard:t.l_id_no,schoolName:t.l_school,studentId:t.l_stdnostring,selected:!1,type:"info"};s.selectedList.push(i)}),this.userList=this.userList.concat(this.selectedList,this.addList),this.userList.push(this.addItem)}},methods:{selectContact:function(){this.$push("/pages/mine/ContactsList?mode=select")},userItemClick:function(t){if("add"===t.type)return this.$refs.constactWrapper.show(),void this.tempUserInfo.clear();this.userList.forEach(function(e){e.selected=e===t}),this.selectedUserIndex=this.userList.indexOf(t),this.tempUserInfo.setInfo(t),this.$refs.constactWrapper.show()},userItemDelete:function(e){var s=this;t.showModal({cancelText:"取消",confirmText:"删除",title:"提示",content:"是否要删除此联系人？",success:function(t){if(t.confirm){var i=!0,n=!1,o=void 0;try{for(var r,a=s.addList[Symbol.iterator]();!(i=(r=a.next()).done);i=!0){var d=r.value;d.name===e.name&&s.addList.splice(s.addList.indexOf(d),1)}}catch(f){n=!0,o=f}finally{try{i||null==a.return||a.return()}finally{if(n)throw o}}s.userList.splice(s.userList.indexOf(e),1),s.$emit("onDeleteContact",e)}}})},cancelUserInfoDialog:function(){this.$refs.constactWrapper.close(),this.tempUserInfo.clear()},submitUserInfoDialog:function(){if(this.tempUserInfo.name||-1===this.visitorInfo.indexOf("n"))if(this.tempUserInfo.phone||-1===this.visitorInfo.indexOf("m"))if(this.$utils.validator.isPhone(this.tempUserInfo.phone)||-1===this.visitorInfo.indexOf("m"))if(this.tempUserInfo.idCard||-1===this.visitorInfo.indexOf("id"))if(this.tempUserInfo.schoolName||-1===this.visitorInfo.indexOf("u"))if(this.tempUserInfo.studentId||-1===this.visitorInfo.indexOf("s")){var t={name:this.tempUserInfo.name,phone:this.tempUserInfo.phone,idCard:this.tempUserInfo.idCard,schoolName:this.tempUserInfo.schoolName,studentId:this.tempUserInfo.studentId,selected:!1,type:"info"};-1!==this.selectedUserIndex?(this.userList[this.selectedUserIndex]=t,this.selectedUserIndex=-1):(this.userList.unshift(t),this.addList.push(t)),this.$refs.constactWrapper.close()}else this.$toast("请输入学生证号");else this.$toast("请输入学校姓名");else this.$toast("请输入身份证号");else this.$toast("请输入合法的手机号");else this.$toast("请输入手机号");else this.$toast("请输入姓名")}},mounted:function(){this.userList.push(this.addItem)}};e.default=n}).call(this,s("543d")["default"])},b7a9:function(t,e,s){"use strict";s.r(e);var i=s("583c"),n=s("e34f");for(var o in n)"default"!==o&&function(t){s.d(e,t,function(){return n[t]})}(o);s("bf3c");var r=s("2877"),a=Object(r["a"])(n["default"],i["a"],i["b"],!1,null,"7330ebc4",null);e["default"]=a.exports},bf3c:function(t,e,s){"use strict";var i=s("d472"),n=s.n(i);n.a},d472:function(t,e,s){},e34f:function(t,e,s){"use strict";s.r(e);var i=s("6f39"),n=s.n(i);for(var o in i)"default"!==o&&function(t){s.d(e,t,function(){return i[t]})}(o);e["default"]=n.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/reseve/components/TicketUserInfo-create-component',
    {
        'pages/reseve/components/TicketUserInfo-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("b7a9"))
        })
    },
    [['pages/reseve/components/TicketUserInfo-create-component']]
]);                
